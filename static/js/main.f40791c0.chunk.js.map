{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","helpers/request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","query","hadnleInputSearch","e","setState","target","value","handleSubmit","preventDefault","props","addNewQuery","this","className","onSubmit","type","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewURL","largeImageURL","showModal","onClick","src","alt","ImageGallery","gallery","map","item","key","id","searchGallery","page","Axios","get","process","Button","requestByQuqery","Modal","closeModalByEscape","code","console","log","closeModalByClick","nodeName","window","addEventListener","document","removeEventListener","img","App","loader","error","bigImg","then","res","prev","data","hits","catch","message","finally","prevProps","prevState","length","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f40791c0.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport  './Searchbar.css'\n\n\nexport default class Searchbar extends Component {\n  state={\n    query:''\n  }\n  hadnleInputSearch =(e)=>{\nthis.setState({query:e.target.value})\n  }\n  handleSubmit = (e)=>{\n    e.preventDefault()\nthis.props.addNewQuery(this.state.query)\nthis.setState({query:''})\n  }\n  render() {\n    const { query } = this.state\n    return (\n      \n      <div>\n      <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n    \n        <input\n        name=\"query\"\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={this.hadnleInputSearch}\n        />\n      </form>\n    </header>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport './ImageGalleryItem.css'\nconst ImageGalleryItem = ({previewURL,largeImageURL,showModal}) => {\n  \n    return (\n        <div onClick={()=>{\n          showModal(largeImageURL)\n        }}>\n        <li className=\"ImageGalleryItem\">\n        <img src={previewURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>\n        </div>\n    );\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport './ImageGallery.css'\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\nconst ImageGallery = ({gallery=[],showModal}) => {\n    return (\n        <div>\n        <ul className=\"ImageGallery\">\n        {\n          gallery.map(item=><ImageGalleryItem {...item} showModal={showModal} key={item.id}/>)\n        }\n        \n      </ul>\n        </div>\n    );\n};\n\nexport default ImageGallery;","import Axios from \"axios\";\n\nexport const searchGallery =(query,page)=>{\n    const apiKey = process.env.REACT_APP_CLIENT_API_KEY\n   return Axios.get(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`)\n}\n\n\n// https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12","import React from 'react';\nimport './Button.css'\nconst Button = ({requestByQuqery}) => {\n    return (\n        \n        <button type=\"button\" onClick={requestByQuqery} className='Button'> Load More</button>\n        \n    );\n};\n\nexport default Button;","import React, { Component } from 'react'\nimport './Modal.css'\n\n\n\n\nexport default class Modal extends Component {\n    closeModalByEscape =(e)=>{\n        if(e.code === 'Escape'){\n            this.props.showModal(null)\n        }\n        console.log(e.code)\n    }\n    closeModalByClick=(e)=>{\n        if(e.target.nodeName === 'DIV')\n        this.props.showModal(null)\n            \n        \n    }\n    componentDidMount() {\n        console.log('open')\n        window.addEventListener('keydown',this.closeModalByEscape)\n        document.addEventListener('click',this.closeModalByClick)\n    }\n    componentWillUnmount() {\n        console.log('delete')\n        window.removeEventListener('keydown',this.closeModalByEscape)\ndocument.removeEventListener('click',this.closeModalByClick)\n    }\n    \n    render() {\n        return (\n            <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.img} alt=\"\" />\n        </div>\n      </div>\n        )\n    }\n}\n\n\n","import React, { Component,useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport './App.css';\nimport {searchGallery} from './helpers/request'\nimport Loader from 'react-loader-spinner';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport  './App.css'\n\n\nclass App extends Component {\n  state={\n    gallery:[],\n    loader:false,\n    error:null,\n    query:'',\n    page:1,\n    bigImg:''\n  }\n  addNewQuery=(query)=>{\n    this.setState({query,page:1,gallery:[]})\n  }\n  requestByQuqery=()=>{\n   const { query, page,loader} = this.state\n   this.setState({loader: true})\n    searchGallery(query,page).then(res=>{\n      this.setState((prev)=>({gallery:[...prev.gallery,...res.data.hits],\n    page: prev.page +1}))}).catch((error)=>this.setState({error: error.message})).finally(()=>this.setState({loader:false}))\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.gallery.length>12&& this.state.gallery !== prevState.gallery) {\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n    if(prevState.query !== this.state.query){\n      this.requestByQuqery()\n    }\n  }\n  showModal=(img)=>{\n    this.setState({bigImg:img})\n  }\n  \n  \n  render() {\nconst {gallery,loader,error,bigImg  } = this.state\nif(error){\n  return <h1>{error}</h1>\n}\n    return (\n      <div className=\"App\">\n      <Searchbar addNewQuery={this.addNewQuery}/>\n      {gallery.length>0&&<ImageGallery showModal={this.showModal} gallery={gallery}/>} \n      {loader&&<Loader/>}\n      {!loader&&gallery.length>0&&<Button requestByQuqery={this.requestByQuqery}/> }\n      {bigImg&&<Modal img={bigImg} showModal={this.showModal}/>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}