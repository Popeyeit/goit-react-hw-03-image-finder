(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{21:function(e,t,a){e.exports=a(70)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),c=(a(26),a(7)),u=a(3),i=a(4),s=a(6),m=a(5),d=(a(27),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.hadnleInputSearch=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.addNewQuery(e.state.query),e.setState({query:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("div",null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{name:"query",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.hadnleInputSearch}))))}}]),a}(n.Component)),h=(a(28),a(29),function(e){var t=e.previewURL,a=e.largeImageURL,n=e.showModal;return r.a.createElement("div",{onClick:function(){n(a)}},r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:"",className:"ImageGalleryItem-image"})))}),y=function(e){var t=e.gallery,a=void 0===t?[]:t,n=e.showModal;return r.a.createElement("div",null,r.a.createElement("ul",{className:"ImageGallery"},a.map((function(e){return r.a.createElement(h,Object.assign({},e,{showModal:n,key:e.id}))}))))},p=(a(9),a(19)),g=a.n(p),f=function(e,t){return g.a.get("https://pixabay.com/api/?key=".concat("17140088-58d7922c01a0b03576cc23a3e","&q=").concat(e,"&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=12"))},v=a(20),E=a.n(v),b=(a(68),function(e){var t=e.requestByQuqery;return r.a.createElement("button",{type:"button",onClick:t,className:"Button"}," Load More")}),w=(a(69),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).closeModalByEscape=function(t){"Escape"===t.code&&e.props.showModal(null),console.log(t.code)},e.closeModalByClick=function(t){"DIV"===t.target.nodeName&&e.props.showModal(null)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("open"),window.addEventListener("keydown",this.closeModalByEscape),document.addEventListener("click",this.closeModalByClick)}},{key:"componentWillUnmount",value:function(){console.log("delete"),window.removeEventListener("keydown",this.closeModalByEscape),document.removeEventListener("click",this.closeModalByClick)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Overlay"},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:this.props.img,alt:""})))}}]),a}(n.Component)),q=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gallery:[],loader:!1,error:null,query:"",page:1,bigImg:""},e.addNewQuery=function(t){e.setState({query:t,page:1,gallery:[]})},e.requestByQuqery=function(){var t=e.state,a=t.query,n=t.page;t.loader;e.setState({loader:!0}),f(a,n).then((function(t){e.setState((function(e){return{gallery:[].concat(Object(c.a)(e.gallery),Object(c.a)(t.data.hits)),page:e.page+1}}))})).catch((function(t){return e.setState({error:t.message})})).finally((function(){return e.setState({loader:!1})}))},e.showModal=function(t){e.setState({bigImg:t})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.gallery.length>12&&this.state.gallery!==t.gallery&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),t.query!==this.state.query&&this.requestByQuqery()}},{key:"render",value:function(){var e=this.state,t=e.gallery,a=e.loader,n=e.error,o=e.bigImg;return n?r.a.createElement("h1",null,n):r.a.createElement("div",{className:"App"},r.a.createElement(d,{addNewQuery:this.addNewQuery}),t.length>0&&r.a.createElement(y,{showModal:this.showModal,gallery:t}),a&&r.a.createElement(E.a,null),!a&&t.length>0&&r.a.createElement(b,{requestByQuqery:this.requestByQuqery}),o&&r.a.createElement(w,{img:o,showModal:this.showModal}))}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))},9:function(e,t,a){}},[[21,1,2]]]);
//# sourceMappingURL=main.f40791c0.chunk.js.map